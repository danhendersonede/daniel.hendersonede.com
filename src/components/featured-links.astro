---
import { pageConfig } from "@config/root-page-config";
import ResourceFeaturedItem from "@components/resourceFeaturedItem.astro";
---

<section class="featured-links">
  {
    Object.entries(pageConfig).map(([_, item]) => {
      if (item.featured) {
        return (
          <ResourceFeaturedItem
            title={item.pageTitle}
            description={item.description}
            coverImageDarkURL={null}
            coverImageLightURL={null}
            href={`/${item.slug}`}
            showDescription={true}
          />
        );
      }
    })
  }
</section>

<script>
  import { animate, inView, stagger } from "motion";

  inView(".featured-links", () => {
    animate(
      ".featured-link",
      { y: 0, opacity: 1 },
      {
        delay: stagger(0.2),
      }
    );
  });
</script>

<style>
  .featured-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(16rem, 1fr));
    grid-auto-flow: dense;
    gap: var(--spacing-s);
    margin: 3rem 0;
    align-items: stretch;
    padding: 0;
  }
</style>
